<% include ./partials/header %>

    <div class="container">
    <section id="typography">
      <div class="page-header">
        <h1 style="color: #7F5454">Design your own T-shirt</h1>
        <h3 style="color: #800000"><p><i>"Unleash your creativity. Design the way you want"</i></p><h3>
      </div>
    
      <!-- Headings & Paragraph Copy -->
      <div class="row">     
        <div class="col-lg-3">
          
          <div class="tabbable"> <!-- Only required for left/right tabs -->
          <ul class="nav nav-tabs">
          <li class= "active" style="color: black"><a  href="#tab1" data-toggle="tab">Select T-shirt options</a></li>
            <!-- <li><a href="#tab1" data-toggle="tab">Color</a></li>  -->          
            <li><a href="#tab2" data-toggle="tab">Text/Cliparts</a></li>
          </ul>
          <div class="tab-content">
             <div class="tab-pane active" id="tab1">
              <!-- <div class="well"> -->
<!--                  <h3>Tee Styles</h3>-->
<!--                  <p>-->
                  <!--  <select>                        
                            <option value="1" selected="selected">Short Sleeve Shirts</option>
                            <option value="2">Long Sleeve Shirts</option>                                        
                            <option value="3">Hoodies</option>                    
                            <option value="4">Tank tops</option>
                </select> -->       
<!--                  </p>-->               
                <!-- </div> -->
                <div class="well">
              <ul>
                <li class="color-preview" title="White" style="background-color:#ffffff;"></li>
                <!-- <li class="color-preview" title="Dark Heather" style="background-color:#616161;"></li> -->
                <!-- <li class="color-preview" title="Gray" style="background-color:#f0f0f0;"></li> -->
                <li class="color-preview" title="Charcoal" style="background-color:#5b5b5b;"></li>
                <li class="color-preview" title="Black" style="background-color:#222222;"></li>
                <!-- <li class="color-preview" title="Heather Orange" style="background-color:#fc8d74;"></li>
                <li class="color-preview" title="Heather Dark Chocolate" style="background-color:#432d26;"></li>
                <li class="color-preview" title="Salmon" style="background-color:#eead91;"></li>
                <li class="color-preview" title="Chesnut" style="background-color:#806355;"></li>
                <li class="color-preview" title="Dark Chocolate" style="background-color:#382d21;"></li>
                <li class="color-preview" title="Citrus Yellow" style="background-color:#faef93;"></li>
                <li class="color-preview" title="Avocado" style="background-color:#aeba5e;"></li>
                <li class="color-preview" title="Kiwi" style="background-color:#8aa140;"></li>
                <li class="color-preview" title="Irish Green" style="background-color:#1f6522;"></li>
                <li class="color-preview" title="Scrub Green" style="background-color:#13afa2;"></li>
                <li class="color-preview" title="Teal Ice" style="background-color:#b8d5d7;"></li>
                <li class="color-preview" title="Heather Sapphire" style="background-color:#15aeda;"></li>
                <li class="color-preview" title="Sky" style="background-color:#a5def8;"></li>
                <li class="color-preview" title="Antique Sapphire" style="background-color:#0f77c0;"></li> -->
                <li class="color-preview" title="Heather Navy" style="background-color:#3469b7;"></li>              
                <li class="color-preview" title="Cherry Red" style="background-color:#c50404;"></li>
              </ul>
            </div>  
             </div>      

            <div class="tab-pane" id="tab2">
              <div class="well">
                <div class="input-append">
                    <input class="span2 form-control input-lg" id="text-string" type="text" style="height: 50px" placeholder="Text to be inserted">

                    <button id="add-text" class="btn btn-link"" title="Add text"><i class="icon-share-alt"></i></button>
                    <hr>
                  </div>        
                </div>

                <div id="avatarlist" style="height: 300px"> <!-- start of avatarlist -->
                    <div class="well">
                      <div class="input-append"> 
                        <ul>
                          
                          <li style="padding: 5px"> 
                            <img style="cursor:pointer;" class="img-polaroid" id="canvaspicture" src="/images/log.png"> 
                            <img style="cursor:pointer; margin-left: 5px" class="img-polaroid" id="canvaspicture" src="/images/justin.png"> 
                          </li>
                          <li style="padding: 5px"> 
                            <img style="cursor:pointer;" class="img-polaroid" id="canvaspicture" src="/images/goku.png"> 
                            <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" id="canvaspicture" src="/images/wonder-woman-1.png"> 
                          </li>
                          <li style="padding: 5px"> 
                            <img style="cursor:pointer;" class="img-polaroid" id="canvaspicture" src="/images/pikachu.png"> 
                            <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" id="canvaspicture" src="/images/wonderwoman.png"> 
                          </li>
                          <li style="padding: 5px"> 
                            <img style="cursor:pointer;" class="img-polaroid" id="canvaspicture" src="/images/viking.png"> 
                            <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" id="canvaspicture" src="/images/war.png"> 
                          </li>
                          <li style="padding: 5px"> 
                            <img style="cursor:pointer;" class="img-polaroid" id="canvaspicture" src="/images/silhoute.png"> 
                            <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" id="canvaspicture" src="/images/chealsea.png"> 
                          </li>
                          <li style="padding: 5px"> 
                            <img style="cursor:pointer;" class="img-polaroid" id="canvaspicture" src="/images/united.png">
                            <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" id="canvaspicture" src="/images/joker.png"> 
                          </li>
                        </ul>
                      </div> <!-- end of inputappend -->    

                           </div> <!-- end of well -->
                  </div>  <!-- end of avatarlist -->  
                 
             <!--  <div id="avatarlist" style="height: 300px">
                <div class="well" style="height: 400px"> 
                   <div class="input-append">
                    <ul style="height: 50px;">
                      <li style="padding: 5px"> <img style="cursor:pointer;" class="img-polaroid" src="/images/log.png">
                      <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" src="/images/goku.png">
                    </li>
                      <li style="padding: 5px">
                       <img style="cursor:pointer;" class="img-polaroid" src="/images/justin.png">
                      <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" src="/images/wonderwoman.png">
                    </li>
                    <li style="padding: 5px">
                       <img style="cursor:pointer;" class="img-polaroid" src="/images/united.png">
                        <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" src="/images/viking.png">
                        </li>

                        <li style="padding: 5px">
                         <img style="cursor:pointer;" class="img-polaroid" src="/images/war.png">
                          <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" src="/images/wonder-woman-1.png">
                        </li>
                        <li style="padding: 5px">
                      <img style="cursor:pointer;" class="img-polaroid" src="/images/pikachu.png">
                      <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" src="/images/silhoute.png">
                    </li>
                    <li style="padding: 5px">
                      <img style="cursor:pointer;" class="img-polaroid" src="/images/united.png">
                            <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" src="/images/chealsea.png">
                      </li>
                      <li style="padding: 5px"> 
                       <img style="cursor:pointer;" class="img-polaroid" src="/images/joker.png">     
                           <img style="cursor:pointer;margin-left: 5px" class="img-polaroid" src="/images/smile.png">
                       </li>   
                   </ul>      
                  </div> <!end of append  -->              
              <!-- </div>  --> <!--  end of well  -->          
            <!-- </div> --> <!-- end of avatarlist -->
          </div>
        </div>        
        </div>
      </div>

        <div class="col-lg-6">        
            <div align="center" style="min-height: 32px;">
              <div class="clearfix">
                <!-- The code that I changed to bring the front and back view..Check properly for mistakes -->        
              <div style="padding-bottom: 15px" id="imageeditor">
                <div class="btn-group">                         
                    <button class="btn" id="bring-to-front" title="Bring to Front"><i class="icon-fast-backward rotate" style="height:19px;"></i></button>
                    <button class="btn" id="send-to-back" title="Send to Back"><i class="icon-fast-forward rotate" style="height:19px;"></i></button>
                    <button id="flip" type="button" class="btn" title="Show Back View"><i class="icon-retweet" style="height:19px;"></i></button>
                    <button id="remove-selected" class="btn" title="Delete selected item"><i class="icon-trash" style="height:19px;"></i></button>
                </div>
              </div>        
              <div class="btn-group inline" style="padding-bottom: 15px"  id="texteditor">             
                <button id="font-family" class="btn dropdown-toggle" data-toggle="dropdown" title="Font Style"><i class="icon-font" style="width:19px;height:19px;"></i></button>                         
                  <ul class="dropdown-menu" role="menu" aria-labelledby="font-family-X">
                    <li><a tabindex="-1" href="#" onclick="setFont('Arial');" class="Arial">Arial</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Helvetica');" class="Helvetica">Helvetica</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Myriad Pro');" class="MyriadPro">Myriad Pro</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Delicious');" class="Delicious">Delicious</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Verdana');" class="Verdana">Verdana</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Georgia');" class="Georgia">Georgia</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Courier');" class="Courier">Courier</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Comic Sans MS');" class="ComicSansMS">Comic Sans MS</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Impact');" class="Impact">Impact</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Monaco');" class="Monaco">Monaco</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Optima');" class="Optima">Optima</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Hoefler Text');" class="Hoefler Text">Hoefler Text</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Plaster');" class="Plaster">Plaster</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Engagement');" class="Engagement">Engagement</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Harlow Solid Italic');" class="Harlow_Solid_Italic">Harlow Solid Italic</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Ananda Hastakchyar');" class="Ananda_Hastakchyar">Ananda Hastakchyar</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Edwardian Script ITC');" class="Edwardian_Script_ITC">Edwardian Script ITC</a></li>

                    <li><a tabindex="-1" href="#" onclick="setFont('AR DARLING');" class="AR_DARLING">AR DARLING
                    <li><a tabindex="-1" href="#" onclick="setFont('Freestyle Script');" class="Freestyle_Script">Freestyle Script</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('PasaRocks');" class="PasaRocks">PasaRocks</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('French Script MT');" class="French_Script_MT">French Script MT</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Snap ITC');" class="Snap_ITC">Snap ITC</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Kristen ITC');" class="Kristen_ITC">Kristen ITC</a></li>
                    <li><a tabindex="-1" href="#" onclick="setFont('Ananda Fanko');" class="Ananda_Fanko">Ananda Fanko</a></li>
                    
                        </ul>
                  <button id="text-bold" class="btn" data-original-title="Bold"><img src="/images/font_bold.png" height="" width=""></button>
                  <button id="text-italic" class="btn" data-original-title="Italic"><img src="/images/font_italic.png" height="" width=""></button>
                  <button id="text-strike" class="btn" title="Strike" style=""><img src="/images/font_strikethrough.png" height="" width=""></button>
                <button id="text-underline" class="btn" title="Underline" style=""><img src="/images/font_underline.png"></button>
                <a class="btn" href="#" rel="tooltip" data-placement="top" data-original-title="Font Color"><input type="hidden" id="text-fontcolor" class="color-picker" size="7" value="#000000"></a>
                <a class="btn" href="#" rel="tooltip" data-placement="top" data-original-title="Font Border Color"><input type="hidden" id="text-strokecolor" class="color-picker" size="7" value="#000000"></a>
                  <!--- Background <input type="hidden" id="text-bgcolor" class="color-picker" size="7" value="#ffffff"> -->
              </div>        
            </div> 
            <!--  EDITOR      -->         
              <div id="shirtDiv" class="page" style="width: 530px; height: 630px; position: relative; background-color: rgb(255, 255, 255); position: sticky;">
                <img id="tshirtFacing" src="../images/crew_front.png"></img>
                <div id="drawingArea" style="position: absolute;top: 100px;left: 160px;z-index: 10;width: 200px;height: 400px;">          
                  <canvas id="tcanvas" width="200" height="400" class="hover" style="-webkit-user-select: none;"></canvas>
                </div>
              </div>                       
          </div>    
      
        
<!--          <div id="shirtBack" class="page" style="width: 530px; height: 630px; position: relative; background-color: rgb(255, 255, 255); display:none;">-->
<!--            <img src="img/crew_back.png"></img>-->
<!--            <div id="drawingArea" style="position: absolute;top: 100px;left: 160px;z-index: 10;width: 200px;height: 400px;">          -->
<!--              <canvas id="backCanvas" width=200 height="400" class="hover" style="-webkit-user-select: none;"></canvas>-->
<!--            </div>-->
<!--          </div>            -->
                
        <!--  /EDITOR   -->
        </div>
    
       

    <% if (user) { %>
     <div class="col-lg-3">
     <div style="padding-top:100px">
       <div class="form-group">
      <strong> Step 1: Download your design</strong><br>
      <a id="download" download="image.png"><button type="button" onClick="download1()"  class="w3-button w3-blue w3-padding-large w3-large w3-margin-top w3-opacity w3-hover-opacity-off" >Download</button></a>
    </div>
    <div class="form-group">
        <strong> Step 2: Confirm your design</strong><br>
        <button type="button"  class="w3-button w3-green w3-padding-large w3-large w3-margin-top w3-opacity w3-hover-opacity-off" id="myBtn"> I'm done </button>
        <div class="modal fade" id="myModal" role="dialog" style="padding-right:50px, height:100px;" >
            <div class="modal-dialog" style="width: 460px">
            <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-body" style="height: 370px">
                       <form action="reqProduct/insert" enctype="multipart/form-data" method="post" onsubmit="return confirm('Are you sure you have got everything right?');">
         <div class="form-group">
      <label for="image"><h4> Upload design </h4> </label>
      <input type="file" accept="image/x-png" name="image" required>
    </div>
        <div id = "formm" class="form-group">
          <strong>Size:<br></strong>
            <label class="radio-inline">
                <input type="radio" value="S" name="productSize">S
              </label>
              <label class="radio-inline">
                <input type="radio" value="M" name="productSize">M
              </label>
              <label class="radio-inline">
                <input type="radio" value="L" name="productSize">L
              </label>
              <label class="radio-inline">
                <input type="radio" value= "XL" name="productSize">XL
              </label>
        </div>
        <div class="form-group">
          <label for="product_quantity">Quantity:</label>
          <input type="number" min="1" class="form-control" id="quantity" placeholder="Enter quantity" name="productQuantity"  required>
        </div>
    <% if (user) { %>
      <div class="form-group">
      <input type="hidden" class="form-control" id="userID" name = "userID" value="<%= user._id %>">
    </div>
    <% } %>

    <div class="form-group">
      <input type="hidden" class="form-control" id="userDesign" name = "userDesign" value="google.png">
    </div>
    <div class="form-group">
      <label for="contact">Contact No:</label>
      <input type="tel" class="form-control" id="contact" placeholder="eg. 9867656789" name="contact" required>
    </div>
    <div class="form-group">
      <label for="text">Delivery Address:</label>
      <input type="string" class="form-control" id="address" placeholder="28 Kilo, Dhulikhel" name="deliveryAddress" required>
    </div>
    <div class="form-group">
      <label for="email">Email Id:</label>
      <input type="email" class="form-control" id="email" placeholder="abc@xyz.com" name="email" required>
    </div>
    <div class="form-group">
      <label for="notes">Extra notes:</label>
    <!--   <input type="text" class="form-control" id="notes" placeholder="Anything you would like to tell us about your preferences??" name="notes"> -->
    <textarea class="form-control" rows="3" id="notes" name="notes" placeholder="Anything you would like to tell us about your preferences??"></textarea>
    </div>
   
    <button type="submit" class="btn btn-default btn-sucess"> Submit </button>
     </div>
    
  </form>

                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default btn-danger" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
<% } else { %>
<div style="padding-top:100px">
 <strong>Please Login to send us your design</strong>
<a href="/login" class="w3-button w3-white w3-padding-large w3-large w3-margin-top w3-opacity w3-hover-opacity-off">Login</a>
      <a href="/signup" class="w3-button w3-white w3-padding-large w3-large w3-margin-top w3-opacity w3-hover-opacity-off">Register</a>
  <% } %>
</div>
  </div>
  </div>

                                     
        </div>
    
      </div>
    
    </section>
    </div><!-- /container -->






    <!-- Placed at the end of the document so the pages load faster -->    
 <!--    <script src="/javascripts/bootstrap.min.js"></script>     -->
    <script type="text/javascript">
  
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35639689-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

    <!-- Le javascript -->
<!--     <script src="/javascripts/jquery.js"></script> -->
  <!--   <script src="/javascripts/feedback.js"></script> -->
    


<script>
  function download1(){

        var download = document.getElementById("download");
        var image = document.getElementById("tcanvas").toDataURL("image/png")
                    .replace("image/png", "image/octet-stream");
        download.setAttribute("href", image);
    }
/*
function download(url,name){
  $('<a>').attr({href:url,download:name})[0].click();
}*/
/*function downloadFabric(canvas,name){
  console.log('export image');
  var tshirt_design = canvas.toDataURL();
  download(canvas.toDataURL(),name+'.png');
}*/
   /*   function exportCanvasAsPNG(id, fileName) {
    var canvasElement = document.getElementById(tcanvas);
    var MIME_TYPE = "image/png";
    var imgURL = canvasElement.toDataURL(MIME_TYPE);
    var dlLink = document.createElement('a');
    dlLink.download = fileName;
    dlLink.href = imgURL;
    dlLink.dataset.downloadurl = [MIME_TYPE, dlLink.download, dlLink.href].join(':');
    document.body.appendChild(dlLink);
    dlLink.click();
    document.body.removeChild(dlLink);
}*/
     function multiply(){
     var ans= (document.form.price.value)*(document.form.product_quantity.value)
     document.form.total.value=ans;
     }

 
$(document).ready(function(){
    $("#myBtn").click(function(){
        $("#myModal").modal();
    });
});

 </script>

 <% include ./partials/footer %>